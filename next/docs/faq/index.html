
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../LICENCE/">
      
      
        <link rel="next" href="../architecture/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>FAQ - vs.fltk</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#general-questions" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="vs.fltk" class="md-header__button md-logo" aria-label="vs.fltk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            vs.fltk
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              FAQ
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/karurochori/vs-fltk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="vs.fltk" class="md-nav__button md-logo" aria-label="vs.fltk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    vs.fltk
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/karurochori/vs-fltk" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../LICENCE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LICENCE
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    FAQ
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-questions" class="md-nav__link">
    <span class="md-ellipsis">
      General questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-an-sfc-single-file-component" class="md-nav__link">
    <span class="md-ellipsis">
      What is an SFC (Single File Component)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-we-have-something-like-canvas" class="md-nav__link">
    <span class="md-ellipsis">
      Can we have something like &lt;canvas&gt;?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-we-have-a-webgpu-opengl-vulkan-context" class="md-nav__link">
    <span class="md-ellipsis">
      Can we have a webgpu, opengl, vulkan context?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-c-in-embedded-scrips-it-is-unsafe" class="md-nav__link">
    <span class="md-ellipsis">
      Why C in embedded scrips? It is unsafe!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-it-be-used-for-fully-standalone-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Can it be used for fully standalone applications?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-map-sfc-concepts-to-vs" class="md-nav__link">
    <span class="md-ellipsis">
      How to map SFC concepts to vs?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#but-i-want-a-css-like-experience" class="md-nav__link">
    <span class="md-ellipsis">
      But I want a CSS-like experience!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theming-and-colors-schemes-what-can-i-do" class="md-nav__link">
    <span class="md-ellipsis">
      Theming and colors schemes. What can I do?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-we-have-fluid-already-for-fltk" class="md-nav__link">
    <span class="md-ellipsis">
      Don&rsquo;t we have fluid already for FLTK?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-there-any-plan-to-support-alternative-backends-to-fltk" class="md-nav__link">
    <span class="md-ellipsis">
      Is there any plan to support alternative backends to fltk?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#likely-pitfalls" class="md-nav__link">
    <span class="md-ellipsis">
      Likely pitfalls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Likely pitfalls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-want-my-todo-list" class="md-nav__link">
    <span class="md-ellipsis">
      I want my todo list!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-templates" class="md-nav__link">
    <span class="md-ellipsis">
      What about templates?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-handle-state-state-changes" class="md-nav__link">
    <span class="md-ellipsis">
      How to handle state &amp; state changes?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to handle state & state changes?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#self-mixins" class="md-nav__link">
    <span class="md-ellipsis">
      Self mixins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Data sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#within-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Within scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-mutable-in-a-runtime-instance" class="md-nav__link">
    <span class="md-ellipsis">
      What is mutable in a runtime instance?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-details" class="md-nav__link">
    <span class="md-ellipsis">
      Technical details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-the-rendering-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does the rendering work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-codegen-is-in-typescript-why-bun" class="md-nav__link">
    <span class="md-ellipsis">
      Why codegen is in typescript? Why bun?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#licensing" class="md-nav__link">
    <span class="md-ellipsis">
      Licensing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Licensing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#can-i-contribute-to-this-project" class="md-nav__link">
    <span class="md-ellipsis">
      Can I contribute to this project?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-those-parts-covered-by-the-no-derivatives-clauses" class="md-nav__link">
    <span class="md-ellipsis">
      What about those parts covered by the no-derivatives clauses?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-this-strange-licence" class="md-nav__link">
    <span class="md-ellipsis">
      Why this strange licence?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Architecture
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/pipelines/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipelines
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Storage
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/code-gen/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Code gen
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/releasing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Releasing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/todo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Todo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_8" >
        
          
          <label class="md-nav__link" for="__nav_5_8" id="__nav_5_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Ideas
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_8">
            <span class="md-nav__icon md-icon"></span>
            Ideas
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/app-packaging/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    App packaging
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/auto-ui-actions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Auto ui actions
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/caching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Caching
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/expected-new-getters/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Expected new getters
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/revised-namespaces/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Revised namespaces
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/sandboxing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sandboxing
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/ideas/signals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signals
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_9" >
        
          
          <label class="md-nav__link" for="__nav_5_9" id="__nav_5_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Old technical
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_9">
            <span class="md-nav__icon md-icon"></span>
            Old technical
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/old-technical/specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Specs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/old-technical/two-pass/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Main rendering loop (to revised)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../developers/old-technical/xml-format/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Xml format
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Full specs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Full specs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/data/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/paths/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paths
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/scripting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scripting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../full-specs/templating/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Templating
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Releases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../releases/v0.1.1-alpha/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V0.1.1 alpha
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Users
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Users
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/env-vars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Env vars
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/file-types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    File types
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/safety-policies/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Safety policies
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#general-questions" class="md-nav__link">
    <span class="md-ellipsis">
      General questions
    </span>
  </a>
  
    <nav class="md-nav" aria-label="General questions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#what-is-an-sfc-single-file-component" class="md-nav__link">
    <span class="md-ellipsis">
      What is an SFC (Single File Component)?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-we-have-something-like-canvas" class="md-nav__link">
    <span class="md-ellipsis">
      Can we have something like &lt;canvas&gt;?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-we-have-a-webgpu-opengl-vulkan-context" class="md-nav__link">
    <span class="md-ellipsis">
      Can we have a webgpu, opengl, vulkan context?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-c-in-embedded-scrips-it-is-unsafe" class="md-nav__link">
    <span class="md-ellipsis">
      Why C in embedded scrips? It is unsafe!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#can-it-be-used-for-fully-standalone-applications" class="md-nav__link">
    <span class="md-ellipsis">
      Can it be used for fully standalone applications?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-map-sfc-concepts-to-vs" class="md-nav__link">
    <span class="md-ellipsis">
      How to map SFC concepts to vs?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#but-i-want-a-css-like-experience" class="md-nav__link">
    <span class="md-ellipsis">
      But I want a CSS-like experience!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#theming-and-colors-schemes-what-can-i-do" class="md-nav__link">
    <span class="md-ellipsis">
      Theming and colors schemes. What can I do?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dont-we-have-fluid-already-for-fltk" class="md-nav__link">
    <span class="md-ellipsis">
      Don&rsquo;t we have fluid already for FLTK?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-there-any-plan-to-support-alternative-backends-to-fltk" class="md-nav__link">
    <span class="md-ellipsis">
      Is there any plan to support alternative backends to fltk?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#likely-pitfalls" class="md-nav__link">
    <span class="md-ellipsis">
      Likely pitfalls
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Likely pitfalls">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#i-want-my-todo-list" class="md-nav__link">
    <span class="md-ellipsis">
      I want my todo list!
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-templates" class="md-nav__link">
    <span class="md-ellipsis">
      What about templates?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-handle-state-state-changes" class="md-nav__link">
    <span class="md-ellipsis">
      How to handle state &amp; state changes?
    </span>
  </a>
  
    <nav class="md-nav" aria-label="How to handle state & state changes?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#self-mixins" class="md-nav__link">
    <span class="md-ellipsis">
      Self mixins
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-sources" class="md-nav__link">
    <span class="md-ellipsis">
      Data sources
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#within-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Within scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-is-mutable-in-a-runtime-instance" class="md-nav__link">
    <span class="md-ellipsis">
      What is mutable in a runtime instance?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#technical-details" class="md-nav__link">
    <span class="md-ellipsis">
      Technical details
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Technical details">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-does-the-rendering-work" class="md-nav__link">
    <span class="md-ellipsis">
      How does the rendering work?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-codegen-is-in-typescript-why-bun" class="md-nav__link">
    <span class="md-ellipsis">
      Why codegen is in typescript? Why bun?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#licensing" class="md-nav__link">
    <span class="md-ellipsis">
      Licensing
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Licensing">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#can-i-contribute-to-this-project" class="md-nav__link">
    <span class="md-ellipsis">
      Can I contribute to this project?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#what-about-those-parts-covered-by-the-no-derivatives-clauses" class="md-nav__link">
    <span class="md-ellipsis">
      What about those parts covered by the no-derivatives clauses?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#why-this-strange-licence" class="md-nav__link">
    <span class="md-ellipsis">
      Why this strange licence?
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>FAQ</h1>

<h2 id="general-questions">General questions<a class="headerlink" href="#general-questions" title="Permanent link">#</a></h2>
<p><img alt="Good luck with vs!" src="../assets/hero-img.webp" /></p>
<p>While <code>vs</code> shares many of its technologies and ideas with modern SFC frameworks, its design is significantly more opinionated and less free.<br />
This document addresses several of the perceived or actual shortcomings, and provides some of the implied rationale.</p>
<h3 id="what-is-an-sfc-single-file-component">What is an SFC (Single File Component)?<a class="headerlink" href="#what-is-an-sfc-single-file-component" title="Permanent link">#</a></h3>
<p>SFCs are special files encapsulating templates, style and logic of a self-contained UI unit.<br />
They first appeared as part of long defunct proposal for native <code>html</code> components &amp; XHTML XSLT components.<br />
They are now implemented in modern frameworks like <a href="https://svelte.dev/">svelte</a> or <a href="https://vuejs.org/">vue</a>.</p>
<h3 id="can-we-have-something-like-canvas">Can we have something like <code>&lt;canvas&gt;</code>?<a class="headerlink" href="#can-we-have-something-like-canvas" title="Permanent link">#</a></h3>
<p>No. You are free to add or use a <em>custom native component</em> if you really want. If you don&rsquo;t really need a full canvas, there is support still for arbitrary SVG files as part of <code>fltk</code>. But canvas-like components are not and <strong>will never</strong> be part of the core components shipped with <code>vs</code>. Because of that, such capabilities are not meant to be universally accessible by <code>vs</code> users.<br />
The reason is that canvas-like components can be abused to replace UI primitives, breaking the semantics on which accessibility tools and robots are relying upon. Furthermore, to be useful we should also allow arbitrary execution of code in embedded scripts that is generally discouraged even when enabled.</p>
<h3 id="can-we-have-a-webgpu-opengl-vulkan-context">Can we have a webgpu, opengl, vulkan context?<a class="headerlink" href="#can-we-have-a-webgpu-opengl-vulkan-context" title="Permanent link">#</a></h3>
<p>No, same as for <code>&lt;canvas&gt;</code>. But feel free to wrap a <code>vs</code> UI around a custom vulkan viewport if that fits you application.<br />
Be mindful you would need some way to distribute your custom software as it will not be working out of the box for most users.</p>
<h3 id="why-c-in-embedded-scrips-it-is-unsafe">Why C in embedded scrips? It is unsafe!<a class="headerlink" href="#why-c-in-embedded-scrips-it-is-unsafe" title="Permanent link">#</a></h3>
<p>Yes, you are basically giving all keys to the XML provider to run arbitrary code on your machine.<br />
Even if <code>vs</code> is not exposing direct access to the fs or network to embedded scripts, arbitrary C code, once compiled, will be able to do arbitrary things.<br />
It is understandable that from the point of view of &ldquo;web development&rdquo; this idea is absurd. But <code>vs</code> is not about web development, its main objective is to provide lightweight native UIs. You can load XML components and resources from the internet &amp; gemini, but you should only accept native components and native scripts from trusted sources, quite possibly some you have control over.<br />
Still, that would be not less safe than just compiling and running some random code from github, but for some reason one is more socially accepted.</p>
<p>By comparison, QuickJS, Lua and especially WAMR do offer a much more sandboxed experience.<br />
In the future it will be possible to set up robust policies based on domains to determine which type of scripts should be allowed if any.<br />
For now, there are some coarse <a href="./env-vars.md">environment variables</a> that can be set to fully disable certain features.</p>
<h3 id="can-it-be-used-for-fully-standalone-applications">Can it be used for fully standalone applications?<a class="headerlink" href="#can-it-be-used-for-fully-standalone-applications" title="Permanent link">#</a></h3>
<p>Ideally yes. Broadly speaking there are three &ldquo;modes&rdquo; in which <code>vs</code> can operate:</p>
<ul>
<li>As a fully standalone application. The main issue being the limited selection of functions which are made available in embedded scripts, and their sandboxed nature which only allows specific types of symbols to be exposed and shared.<br />
  Keep in mind that even while working in C, as unsafe as it is, you are not given direct full access to the standard library; this is deliberate design decision to limit the scope of custom code in scripts.</li>
<li>As the front-end of a dynamically linked library which embeds all complex functionalities and provides hooks to the UI in <code>vs</code>. Events triggered from UI will trigger calls to features exposed in your library. Useful for event driven applications, like providing a simple visual front-end to your CLI.</li>
<li>As the front-end of a separate process, sharing information via UNIX Domain Sockets. Useful for multi-client applications, or those in which the bulk of the operations are not event driven. It also avoids the need to compile your codebase into a dynamic library, allowing it to interoperate with virtually any runtime.</li>
</ul>
<p>For now, most efforts are focused in making the first two options viable. The third one is planned for later.</p>
<h3 id="how-to-map-sfc-concepts-to-vs">How to map SFC concepts to <code>vs</code>?<a class="headerlink" href="#how-to-map-sfc-concepts-to-vs" title="Permanent link">#</a></h3>
<table>
<thead>
<tr>
<th>Concept</th>
<th>Web</th>
<th>VS</th>
</tr>
</thead>
<tbody>
<tr>
<td>Components</td>
<td>XML or HTML template</td>
<td>XML</td>
</tr>
<tr>
<td>Static templating</td>
<td>XSLT or JSX</td>
<td>vs-templ (XSLT-like)</td>
</tr>
<tr>
<td>Dynamic templating</td>
<td>alpine, htmx, jquery, &hellip;</td>
<td>Restricted, via standard components</td>
</tr>
<tr>
<td>Style</td>
<td>XSLT and/or CSS and transpilation</td>
<td>Mixins</td>
</tr>
<tr>
<td>Scripting</td>
<td>JS, WASM and transpilation</td>
<td>C/JS/Lua/WASM</td>
</tr>
<tr>
<td>Data handling</td>
<td>Limited via forms, JSON/XML via JS</td>
<td>Native <code>data</code> component</td>
</tr>
</tbody>
</table>
<p>All flow control features and templating like <code>if</code> or <code>for-each</code> blocks which are typical in frameworks like <a href="https://vuejs.org/">vue</a> are performed either:</p>
<ul>
<li>As a build step for components if they can be evaluated statically.</li>
<li>Via custom elements and are not part of core <code>vs</code> and provide a controlled dynamic behaviour.</li>
</ul>
<p>This comparison is just meant to provide some basic intuition of how things match.<br />
Still, the design patterns between <code>vs</code> and more traditional SFC frameworks are quite different.</p>
<h3 id="but-i-want-a-css-like-experience">But I want a CSS-like experience!<a class="headerlink" href="#but-i-want-a-css-like-experience" title="Permanent link">#</a></h3>
<p>In theory there is nothing preventing <code>vs</code> to integrate some <code>style</code> equivalent with mixins restructured as CSS-like classes.<br />
If you want to do that feel free to send in a PR, I am more than willing to see it integrated.</p>
<h3 id="theming-and-colors-schemes-what-can-i-do">Theming and colors schemes. What can I do?<a class="headerlink" href="#theming-and-colors-schemes-what-can-i-do" title="Permanent link">#</a></h3>
<p>FLTK, the toolkit on which <code>vs</code> is based, has limited capabilities in this respect.<br />
Out of the box, it makes opinionated choices on what and how to render boxes based on their class. Of those only few kinds are embedded in the engine.<br />
Hence, both indexed colors and box types have their semantics enforced by FLTK and are globally shared within each process.<br />
Given these constraints, one can specify any color or any rendering function for the different frame types (even SVG images). Yet it is not possible to introduce new classes out of thin air.</p>
<p>It is possible to define custom draw functions and adopt mixins to override the default style, but doing it more than occasionally would result in some quite messy code. If you need fine and frequent control over your UI, <code>vs</code> is likely not the right framework for you.</p>
<h3 id="dont-we-have-fluid-already-for-fltk">Don&rsquo;t we have fluid already for FLTK?<a class="headerlink" href="#dont-we-have-fluid-already-for-fltk" title="Permanent link">#</a></h3>
<p><a href="https://www.fltk.org/doc-1.4/fluid.html">fluid</a> is an excellent tool, but in my opinion it has few problems:</p>
<ul>
<li>The visual editor is nice, but it does not really allow defining custom widgets as standalone and reusable components. At least, not easily enough.</li>
<li>It integrates C/C++ code only to &ldquo;fill in&rdquo; the missing parts of the application, in a way which I don&rsquo;t find particularly ergonomic.</li>
<li>It does nothing to provide runtime capabilities for the UI beyond what FLTK offers, which is a bit too basic.</li>
<li>It is restricted to C/C++, unless you linked your own dynamic library written with a language of choice.</li>
</ul>
<h3 id="is-there-any-plan-to-support-alternative-backends-to-fltk">Is there any plan to support alternative backends to fltk?<a class="headerlink" href="#is-there-any-plan-to-support-alternative-backends-to-fltk" title="Permanent link">#</a></h3>
<p>Short answer, no. However, most of the infrastructure and code of this repo has only minimal reliance on fltk.<br />
It is possible for most code in this repo to be preserved if a new backend were to be selected.<br />
One scenario which might be interesting to consider is <a href="https://lvgl.io/">lgvl</a> for example.</p>
<h2 id="likely-pitfalls">Likely pitfalls<a class="headerlink" href="#likely-pitfalls" title="Permanent link">#</a></h2>
<p>Unlike other runtimes adopting DOM-like structures, <code>vs</code> is not using XML nor its parsed version in memory as the actual UI representation.<br />
The XML source is statically compiled into a UI tree, a wrapper/superset of the tree structure that FLTK internally implements, enabling all the higher level features of <code>vs</code>.<br />
This means that at runtime the source XML will we de-allocated from memory right after the UI tree is built, and it cannot be trivially referenced again.<br />
We also plan in a not-so-far-distant future to use some source XML to generate the equivalent C++ code, and use that to reach a fully native level of performance and a minimal memory consumption.</p>
<h3 id="i-want-my-todo-list">I want my todo list!<a class="headerlink" href="#i-want-my-todo-list" title="Permanent link">#</a></h3>
<blockquote>
<p>How do I create a list which can spawn multiple copies of some component based on runtime data in XML then?</p>
</blockquote>
<p>You don&rsquo;t. Components based on XML have several limitations on which mutations are allowed during runtime. A basic principle of this framework is to keep arbitrary code and logic as far away as possible from the final user, and what one sees in code should perfectly match what one visually gets. Making the tree mostly immutable and restricting which operations are allowed in the embedded scripts vibes with this vision of simplicity.<br />
In addition to XML components, native ones are also allowed in <code>vs</code>. Native components are written in C++ (or any language which can work with our C bindings) &amp; built dynamically against the full library.<br />
Native components cover the same features provided by the XML builder and much more. There is (will be) a library of base native components designed to cover all common scenarios where dynamic data is expected to drive UI changes, but if yours does not fit you will have to write a custom one and ensure its semantics is explicitly encoded as meta-information.</p>
<p>Realistically, once <code>vs</code> gets stable enough, the standard library should be plenty for virtually any developer.
This way, any dynamic behaviour requiring arbitrary code execution is kept outside the XML tree, in a native codebase which is not controlled by any single developer (unless the final user decides to enable certain native components distributed by third parties). This fits with the design philosophy that there should only one good way to implement a certain feature on the UI front-end.</p>
<h3 id="what-about-templates">What about templates?<a class="headerlink" href="#what-about-templates" title="Permanent link">#</a></h3>
<blockquote>
<p>Ok, but being forced to manually write the code for 5x5 buttons on a widget is not really clever.</p>
</blockquote>
<p>This is what build steps are for! You can generate your XML in <a href="https://react.dev/">react</a> or <a href="https://www.w3schools.com/xml/xsl_intro.asp">xslt</a> for example.<br />
We are also implementing our <a href="https://github.com/KaruroChori/vs-templ">own xml preprocessor</a> to statically generate components within the <code>vs</code> viewer itself. Right now <code>vs.templ</code> is working in <code>vs</code>, but not every planned feature according to specs has been implemented yet.</p>
<h3 id="how-to-handle-state-state-changes">How to handle state &amp; state changes?<a class="headerlink" href="#how-to-handle-state-state-changes" title="Permanent link">#</a></h3>
<blockquote>
<p>If the XML is lost, how to I know &amp; query the state of widgets?</p>
</blockquote>
<p>Not via a DOM structure. In theory FLTK provides an interface to get the current value of its properties from its own widgets, however we decided not to expose it fully.<br />
Still, <code>vs</code> widgets can provide some selected <em>computed properties</em>. It should be considered that props in the XML and keys used by FLTK are not a 1-to-1 match, even though we try to keep them as close as possible when reasonable; some complex processing on the input expressions can take place both at compile time and at runtime. None of that is directly reflected in the state of a FLTK widget.</p>
<p>Aside from these considerations, we can still keep state, just not explicitly within <code>vs</code> widgets.<br />
There are four main approaches, each suited best for a different class of cases.</p>
<h4 id="self-mixins">Self mixins<a class="headerlink" href="#self-mixins" title="Permanent link">#</a></h4>
<p>Each <code>vs</code> widget with a frame can specify a self mixin, which internally is just a persisted map of props.<br />
Unlike props directly defined on the element itself, at runtime self mixins are persisted throughout the session.</p>
<p>Please, be mindful that self mixins will force widgets to have their own frame even if left nameless, significantly raising their memory footprint.<br />
Furthermore, mixins operate on objects serialized to strings, making the process of using them more computationally expensive.<br />
Still, this also makes them more flexible, as mixins represent expressions to compute and not immediate values.</p>
<p>I would like to close with an example showing a typical pitfall in handling state via mixins:</p>
<pre><code class="language-xml">&lt;component-a prop-1=&quot;value-1&quot;&gt;
    &lt;mixin prop-2=&quot;value-2&quot;&gt;
&lt;/compoent-a&gt;
</code></pre>
<p><code>component-a</code> will be built with its own <code>prop-1</code> and <code>prop-2</code> inherited from the self mixin. However, the content of <code>prop-1</code> is applied &amp; lost after compilation, while <code>prop-2</code> can be queried at runtime. Mixins can be mutated at runtime as well. <del>but an explicit update request must be triggered onto a component for it to be updated &amp; reflect such changes.</del> nope, we set it dirty and recompute all dirty things after some time no more have been adeded</p>
<h4 id="data-sources">Data sources<a class="headerlink" href="#data-sources" title="Permanent link">#</a></h4>
<p>Data sources can provide and store values for props.<br />
<em>Persistent storage</em> and <em>Secrets</em> are contextual data sources which are always implicitly made available and can be used with the same interface.</p>
<h4 id="within-scripts">Within scripts<a class="headerlink" href="#within-scripts" title="Permanent link">#</a></h4>
<p>One should not be surprised that this approach is the least desirable. If you can do differently, please do.<br />
One can either have static variables in single users scripts, maps in modules, or have them linked from the back-end.</p>
<p>In any case, the mechanism to access these variables is via custom <code>setters</code> and <code>getters</code>.<br />
They will effectively appear as props and computed values of the widget they have been defined for and similarly accessed.</p>
<h3 id="what-is-mutable-in-a-runtime-instance">What is mutable in a runtime instance?<a class="headerlink" href="#what-is-mutable-in-a-runtime-instance" title="Permanent link">#</a></h3>
<ul>
<li>Viewports can be fully redrawn and re-sourced.</li>
<li>Props of ui widgets can be freely changed. Exclusions apply to <code>name</code>, <code>frame.*</code> and few more which are reserved for internal use during the <code>ui-tree</code> construction.</li>
<li><del>Mixins can be added, removed or changed. Subtrees can be asked to recompute their style info after these changes.</del> (am I sure I want this?)</li>
</ul>
<p>What is left out:</p>
<ul>
<li>You cannot re-render components imported and used or direct <code>use</code> as their slot designation is lost at runtime.</li>
<li>Like all the other mutable pros, the <code>mixin</code> property of a widget can be changes and its previous state is not stored. So you cannot just append or remove parts from it, it must be fully overwritten each time.</li>
<li>When you want a widget to be refreshed, its inline props cannot be evaluated again, as that is only available while parsing XML. If you want to avoid this pitfall, keep all of its style in external mixins, and just mutate its <code>mixin</code> list to set the desired visual state.</li>
</ul>
<h2 id="technical-details">Technical details<a class="headerlink" href="#technical-details" title="Permanent link">#</a></h2>
<h3 id="how-does-the-rendering-work">How does the rendering work?<a class="headerlink" href="#how-does-the-rendering-work" title="Permanent link">#</a></h3>
<p>It is a process in two stages for each component:</p>
<ul>
<li>The first pass checks for all resources needed and scripts to compile. These sub-tasks are added to a pool and run in parallel. If cached, these results are retrieved. If cache-able, they are stored after computation.</li>
<li>Once all resources for a component are resolved, the UI tree is constructed visiting the XML again with a depth-first pass.</li>
</ul>
<p>At the end of this process the XML is freed.<br />
XML files are assumed to be fully loaded in memory during processing. However, it is possible to write a streaming parser with much lower memory footprint, as long as the XML is following the strict schema shipped with this repo (it has a rigid order for some tags).<br />
This strategy was not employed as it makes the loading process much slower for multithreaded systems with reasonable amounts of memory, and would only be better for low-end embedded systems where fltk is unlikely to be suitable.</p>
<h3 id="why-codegen-is-in-typescript-why-bun">Why codegen is in typescript? Why bun?<a class="headerlink" href="#why-codegen-is-in-typescript-why-bun" title="Permanent link">#</a></h3>
<p>The main reason is expressiveness. Primitives like <code>map</code>, <code>split</code>, <code>join</code> and string templates are extremely useful in simplifying the process.
Trying to implement the same in C++ would have been a bit of a nightmare to be honest, even with modern features like <code>std::format</code>. There are libraries replicating a good chunk of the js standard library in C++, but at that point I would just use javascript.</p>
<p>As for &ldquo;why bun?&rdquo;, the main reason is convenience. It has native support to run typescript without transpilation, and a good library to read/write files which is much more compact compared to most alternatives.<br />
I considered using <a href="https://github.com/saghul/txiki.js">txiki.js</a> (no less because I am somewhat involved with the project), which is much more lightweight and can be easily built without extra dependencies if not shipped already on the developer&rsquo;s machine.<br />
Still, it does not use semantic versioning (so features will break every now and then), and it cannot use typescript natively. Hence, no txiki (for now).</p>
<h2 id="licensing">Licensing<a class="headerlink" href="#licensing" title="Permanent link">#</a></h2>
<h3 id="can-i-contribute-to-this-project">Can I contribute to this project?<a class="headerlink" href="#can-i-contribute-to-this-project" title="Permanent link">#</a></h3>
<p>Sure! Please be mindful of few things:</p>
<ul>
<li>Make sure you understand that this project uses different licenses for different parts.</li>
<li>You should be ok with us including your contributions under those same terms.</li>
<li>This project is very early, and your contribution might end up in the crossfire of roadmaps changing and goals shifting.</li>
<li>If you want to contribute major features, I would <em>strongly</em> recommend to reach out or to publish some form of written proposal.</li>
<li>You should also accept that the CC Attribution–NoDerivs 4.0 covering most of the project will be relaxed at some point.</li>
<li>You will be credited, at the very least by preserving the git history of the project.</li>
<li>You are clearly able to distribute any standalone contribution you made as you wish. It is your code.</li>
</ul>
<h3 id="what-about-those-parts-covered-by-the-no-derivatives-clauses">What about those parts covered by the no-derivatives clauses?<a class="headerlink" href="#what-about-those-parts-covered-by-the-no-derivatives-clauses" title="Permanent link">#</a></h3>
<p>Those clauses are just intended to protect this project in its early life, not to prevent people from contributing.<br />
If your plan is not to make your own fork and distribute an alternative version of <code>vs</code>, we are totally fine with that!</p>
<h3 id="why-this-strange-licence">Why this strange licence?<a class="headerlink" href="#why-this-strange-licence" title="Permanent link">#</a></h3>
<p>You are strange!<br />
Jokes aside, I <em>really</em> don&rsquo;t want this project to be taken apart by sharks before it is able to run on its own legs.<br />
Or at the very least, I am trying to make it as hard as legally possible.</p>
<p><code>vs</code> is extremely opinionated, and with opinions come division.<br />
XML or JSON, runtime DOM or not, and of course&hellip; data sources or arbitrary fetches in embedded scripts.<br />
My reluctance in adopting a less restrictive licence at this stage is well explained in the <a href="https://geminiprotocol.net/docs/faq.gmi">gemini&rsquo;s faq</a>.<br />
If I had to explain it more with my own words, let&rsquo;s think about a cost function describing the utility of frameworks like <code>vs</code>.<br />
There are many local minima in which such frameworks could end up stuck during development, be it as a necessary but temporary phase or as the unfortunate outcome of short-sighted design decisions.<br />
A good <em>vision</em> is the only thing which allows a project to jump across, or at least get quickly out from the local minima of comfort-food.<br />
I am not saying my own is &ldquo;right&rdquo; nor immutable, just that I have few high-level objectives for this project that others might not share.<br />
Allowing <code>vs</code> to be freely forked at this stage comes with the very real risk of me being thrown in a competition I never asked for, unable to provide more than shallow promises on why my intention &amp; my objectives would be &ldquo;better&rdquo;.<br />
As I don&rsquo;t plan on making the development of this project a painful exercise in demagogy and convincing, I temporarily opted for a licencing model which prevents that.<br />
Once this project is robust enough to survive a hostile fork, I would be very glad to relicense it under permissive terms.</p>
<p>That being said, if you feel something in the direction of the project or the technical solutions proposed are not good, please reach out!<br />
I really appreciate any structured criticism, and I am grateful of any time others might want to put into that.<br />
I am not the kind of person which get stuck in their own positions just because they hold them at some point 😊.</p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>